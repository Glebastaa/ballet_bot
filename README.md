# Telegram CRM bot for dance studios
![version](https://img.shields.io/badge/version-1.0.0-blue)
### Обзор проекта

Данный проект представляет собой бота для Telegram, разработанного специально для студий танцев с функционалом системы CRM. Бот создан с целью упрощения и автоматизации процесса управления студией танцев, включающего в себя обработку информации о студиях, группах, учениках и индивидуальных занятиях.

Основные возможности бота включают:

- Добавление, изменение и удаление записей о студиях танцев.
- Управление информацией о группах в каждой студии.
- Отслеживание обучающихся: бот позволяет добавлять, редактировать и удалять данные об учениках.
- Возможность фиксировать индивидуальные занятия.
- Возможность оставления заметок для комфортной работы всей команды студии.

## Требования к использованию
Python 3.10 и выше

## Установка (Linux)

1. Клонирование репозитория

```git clone https://github.com/Glebastaa/ballet_bot.git```

2. Переход в директорию ballet_bot

```cd ballet_bot```

3. Создание виртуального окружения

```python3 -m venv venv```

4. Активация виртуального окружения

```source venv/bin/activate```

5. Установка зависимостей

```pip install -r requirements.txt```

6. Установка миграций

```alembic upgrade head```

7. Создать и заполнить файл .env

| наименование     |        значение        |
|---------------|---------------------------|
| POSTGRES_USER    | username для postgres  |
| POSTGRES_PASSWORD| password для postgres  |
| POSTGRES_DB      | имя БД для postgres    |
| DB_HOST          | localhost              |
| DB_PORT          | 5432                   |
| bot_token        | токен телеграмм бота   |
| MODE             | DEV                    |
| ADMIN_PASS       | пароль для админ панели|

9. Запус проекта

```python bot.py```

10. Сборка проекта

```docker compose up```

## Тестирование проекта

1. Создать и заполнить файл .test.env

| наименование     |        значение        |
|---------------|---------------------------|
| POSTGRES_USER    | username для postgres  |
| POSTGRES_PASSWORD| password для postgres  |
| POSTGRES_DB      | имя БД для postgres    |
| DB_HOST          | localhost              |
| DB_PORT          | 5433                   |
| bot_token        | токен телеграмм бота   |
| MODE             | TEST                   |

2. Сборка проекта

```docker compose up```

3. Запуск тестов

```pytest```

## Используемый стек

- aiogram (https://docs.aiogram.dev/en/latest/): Современный фреймворк для создания ботов в Telegram. Поддерживает асинхронную работу.

- aiohttp (https://docs.aiohttp.org/en/stable/): Библиотека для создания HTTP клиентов/серверов с поддержкой асинхронного программирования.

- SQLAlchemy (https://www.sqlalchemy.org/): SQL Toolkit и Object-Relational Mapping (ORM) система для Python. SQLAlchemy поддерживает синхронный и асинхронный режимы работы.

- asyncpg (https://github.com/MagicStack/asyncpg): Библиотека для работы с PostgreSQL, предоставляющая быстрый PostgreSQL-драйвер для Python/asyncio.

- pytest-asyncio (https://github.com/pytest-dev/pytest-asyncio): Плагин для pytest, позволяющий тестировать код, использующий asyncio.

Проект также использует ряд других зависимостей, полный перечень которых можно найти в файле ```requirements.txt```.

## Команда

- Dante-E28 (https://t.me/ivakuralain) - ответственный за все, что связано с базой данных. Создана структуру СУБД, подготовлены все необходимые запросы и управление всеми вопросами, связанными с хранением и извлечением данных.
- Glebastaa (https://t.me/FrostNova7) - работал над логикой и функционалом бота. Разработаны все основные функции бота, обеспечение его взаимодействия с пользователем, а также внедрение бизнес-логики и обработка данных.
